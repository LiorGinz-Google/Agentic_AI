*To deploy to agent engine: run python prompt.py from command line

*The output should be similar to the below:

Identified the following requirements: {'cloudpickle': '3.1.1', 'google-cloud-aiplatform': '1.121.0', 'pydantic': '2.12.3'}
The following requirements are missing: {'cloudpickle', 'pydantic'}
The following requirements are appended: {'pydantic==2.12.3', 'cloudpickle==3.1.1'}
The final list of requirements: ['google-cloud-aiplatform[agent_engines,adk]>=1.88', 'google-adk', 'google-cloud-aiplatform', 'google-auth', 'google-cloud-storage', 'pydantic==2.12.3', 'cloudpickle==3.1.1']
Using bucket agent_experiment_staging
Wrote to gs://agent_experiment_staging/agent_engine/agent_engine.pkl
Writing to gs://agent_experiment_staging/agent_engine/requirements.txt
Creating in-memory tarfile of extra_packages
Writing to gs://agent_experiment_staging/agent_engine/dependencies.tar.gz
Bidi stream API mode is not supported yet in Vertex SDK, please use the GenAI SDK instead. Skipping method bidi_stream_query.
Creating AgentEngine
Create AgentEngine backing LRO: projects/333845934415/locations/us-central1/reasoningEngines/7628873468393553920/operations/3085251841110310912
View progress and logs at https://console.cloud.google.com/logs/query?project=agent-test-470019
AgentEngine created. Resource name: projects/333845934415/locations/us-central1/reasoningEngines/7628873468393553920
To use this AgentEngine in another session:
agent_engine = vertexai.agent_engines.get('projects/333845934415/locations/us-central1/reasoningEngines/7628873468393553920')

Notes:
  1. It should take a few minutes
  2. You can navigate to agent engine in the console and see additional info' there

in order to publish the agent to Gemini Enterprise do the following:
1. Go to the console and navigate to Gemini Enterprise
2. Go to Manage users
3. Select Global and make sure that you have an active license under "Gemini Enterprise licenses"
4. If you do not see an active license you either need to subscribe to one or If you use Argolis use the following:
   Enable Gemini Enterprise in Argolis:
   use go/argolis, select request preview features, choose Gemini Enterprise Free license
   go/argolis-gemini-license
5. Once the license is available make sure that your user has access (Steps #3 & #4 above)
6. Create an App
7. Get into the app' screen, copy the app' URL and open it in another browser tab
8. Make sure that you have the option "+ Create Agent" in the app website. If not available look how to add Agent Designer. This
   is one of the links that I've used: https://docs.google.com/forms/d/e/1FAIpQLScY7n4RmDHawnggJIKluIvEUHW8gYiUOjpN6bUaVJ1BRCQoCQ/viewform
9. Go back to the console, open Cloud Shell, navigvate to the folder where your agent.py file is and run the following command. You need to 
   make changes and adapt it to your project  

curl -X POST \
-H "Authorization: Bearer $(gcloud auth print-access-token)" \
-H "Content-Type: application/json" \
-H "X-Goog-User-Project: agent-test-470019" \
"https://discoveryengine.googleapis.com/v1alpha/projects/333845934415/locations/global/collections/default_collection/engines/gemini-enterprise-17611484_1761148444457/assistants/default_assistant/agents" \
-d '{
"displayName": "BigQuery Search",
"description": "Agent to answer questions about BigQuery data and models and execute SQL queries",
"icon": {
"uri": "https://storage.googleapis.com/agent_experiment_staging/bq_agent.jpeg"
},
"adk_agent_definition": {
"tool_settings": {
"tool_description": "A tool to interact with BigQuery"
},
"provisioned_reasoning_engine": {
"reasoning_engine":
"projects/agent-test-470019/locations/us-central1/reasoningEngines/7628873468393553920"
}}}'

--agent-test-470019: This is your GCP project ID
--333845934415: This is your GCP project number
--gemini-enterprise-17611484_1761148444457: Go to the Gemini Enterprise App screen and take the ID column for your app
--projects/agent-test-470019/locations/us-central1/reasoningEngines/7628873468393553920: Go to Agent Engine in the console,
  select Service Configuration and use the name field from the Runrime tab



